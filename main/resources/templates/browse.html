<!DOCTYPE html>
<html lang="en">

<head>

    <head th:replace="~{fragments/common::head}"></head>
</head>

<body>
    <header th:replace="~{fragments/common::nav}"></header>

    <form style="box-shadow: #016100 0px 0px 200px 0px;" th:method="POST" th:action="@{/browse}" class="tag-form">
        <input type="submit"
            style="font-size: 40px; padding: 0px; border-color: transparent; box-shadow: rgba(0, 0, 0, 0.118) 0px 0px 50px 0px;"
            value="🔁">
        <div>
            <label>ALL</label>
            <input type="checkbox" name="all">
        </div>
        <div>
            <label>ART</label>
            <input type="checkbox" name="art">
        </div>
        <div>
            <label>CHARITY</label>
            <input type="checkbox" name="charity">
        </div>
        <div>
            <label>COMPETITION</label>
            <input type="checkbox" name="competition">
        </div>
        <div>
            <label>GAMING</label>
            <input type="checkbox" name="gaming">
        </div>
        <div>
            <label>MUSIC</label>
            <input type="checkbox" name="music">
        </div>
        <div>
            <label>SCIENCE</label>
            <input type="checkbox" name="science">
        </div>
        <div>
            <label>SPORT</label>
            <input type="checkbox" name="sport">
        </div>
        <div>
            <label>THEATRE</label>
            <input type="checkbox" name="theatre">
        </div>
    </form>

    <div th:each="currEvent : ${events.events}">
        <div th:if="(${currEvent.category==events.enums[0]} and ${events.filters[0]}) OR
        (${currEvent.category==events.enums[1]} and ${events.filters[1]}) OR
        (${currEvent.category==events.enums[2]} and ${events.filters[2]}) OR
        (${currEvent.category==events.enums[3]} and ${events.filters[3]}) OR
        (${currEvent.category==events.enums[4]} and ${events.filters[4]}) OR
        (${currEvent.category==events.enums[5]} and ${events.filters[5]}) OR
        (${currEvent.category==events.enums[6]} and ${events.filters[6]}) OR
        (${currEvent.category==events.enums[7]} and ${events.filters[7]}) OR
        (${events.filters[8]})" class="event-listing">
            <div class="container-image">
                <img th:src="@{/api/event/image/{id}(id=${currEvent.id})}" alt="Image">
            </div>

            <div class="listing-content">
                <h1>
                    <a th:href="@{/event-info/{id}(id=${currEvent.id})}"><span th:text="${currEvent.name}"></span></a>
                </h1>
                <p>
                    <span th:text="${currEvent.category}"></span>, added by <span th:text="${currEvent.addedBy}"></span>
                </p>
                <p>
                    <span th:text="${currEvent.start}"></span> - <span th:text="${currEvent.end}"></span>
                </p>
            </div>

            <div class="buy-section">
                <h2><span th:text="${currEvent.cost}"></span> points</h2>
                <a th:href="@{/enroll/{id}(id=${currEvent.id})}"><input style="margin-top: 40px;" type="button"
                        value="Enroll" class="btn"></a>
            </div>
        </div>
    </div>

    <footer th:replace="~{fragments/common::footer}"></footer>
</body>

</html>